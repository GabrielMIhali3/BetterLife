CREATE TABLE `products` (
   `id` int NOT NULL AUTO_INCREMENT,
   `barcode` varchar(20) NOT NULL,
   `name` varchar(200) NOT NULL,
   `kcal_100g` double DEFAULT NULL,
   PRIMARY KEY (`id`),
   UNIQUE KEY `cod_bare_UNIQUE` (`barcode`)
 );

ALTER TABLE `products` add column `weight` double DEFAULT NULL;

CREATE TABLE `shops` (
   `id` int NOT NULL AUTO_INCREMENT,
   `name` varchar(45) NOT NULL,
   PRIMARY KEY (`id`)
 );

INSERT INTO products(barcode, name) VALUES
('8690526065700','ETI | Dare 50g'),
('80052760', 'Kinder Bueno | Napolitana cu lapte si umplutura de lapte si alune 43g'),
('7622210999221', 'Milka | Lapte Alpin 100g'),
('5900020000576', 'Nestle | Cereale Nesquik 250g'),
('5941486000434', 'Tomi | Ketchup Dulce 500g'),
('4025500105341', 'Muller | Iaurt cu cirese 500g'),
('5941445675970', 'Chio | Snack Cascaval 65g'),
('7622201393670', 'Poiana | Chokotoff Original 221g'),
('5201360671069', '7 Days | Bake Rolls Pizza'),
('5941047813978', 'Magura | Prajitura Lapte');

insert into shops(name) values
('Auchan'),
('Profi'),
('Kaufland'),
('Mega Image'),
('Carrefour');


CREATE TABLE `prices` (
   `product_id` int NOT NULL,
   `shop_id` int NOT NULL,
   `url` varchar(255) DEFAULT NULL,
   `price` double DEFAULT NULL,
   PRIMARY KEY (`product_id`,`shop_id`),
   KEY `fk_shop_id` (`shop_id`),
   CONSTRAINT `fk_product_id` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
   CONSTRAINT `fk_shop_id` FOREIGN KEY (`shop_id`) REFERENCES `shops` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
 );

insert into prices(product_id, shop_id, url, price) values
(1, 1, 'https://www.auchan.ro/napolitana-dare-50-g/p', null),
(1, 2, 'https://tazz.ro/cluj-napoca/search-partner/profi/24170/dare', null),
(1, 3, 'https://tazz.ro/cluj-napoca/search-partner/kaufland-cluj/3866/dare', null),
(1, 4, 'https://www.mega-image.ro/Dulciuri-si-snacks/Napolitane-biscuiti-si-prajituri/Napolitane/Baton-cu-crema-de-cacao-glazura-de-ciocolata-amaruie-si-napolitana-50g/p/50243', null),
(1, 5, 'https://carrefour.ro/produse/19-14515053', null),

(2, 1, 'https://www.auchan.ro/baton-napolitana-kinder-bueno-43g/p', null),
(2, 2, 'https://tazz.ro/timisoara/search-partner/profi/19674/kinder%20bueno%20ciocolata', null),
(2, 3, null, null),
(2, 4, 'https://www.mega-image.ro/Dulciuri-si-snacks/Ciocolata/Batoane-de-ciocolata/Napolitana-cu-lapte-si-umplutura-de-lapte-si-alune-43g/p/3634', null),
(2, 5, 'https://carrefour.ro/produse/19-11004553?srsltid=AfmBOopj_vFm4jtVGa26emo7TRfoCLiHH6z9zLYKxaJgK9UovIf02jpf', null),

(3, 1, 'https://www.auchan.ro/ciocolata-cu-lapte-milka-100-g/p', null),
(3, 2, 'https://tazz.ro/cluj-napoca/search-partner/profi/24170/milka%20ciocolata%20lapte', null),
(3, 3, 'https://tazz.ro/cluj-napoca/search-partner/kaufland-cluj/3866/milka%20ciocolata%20lapte', null),
(3, 4, 'https://www.mega-image.ro/Dulciuri-si-snacks/Ciocolata/Tablete-de-ciocolata/Ciocolata-cu-lapte-alpin-100g/p/3680', null),
(3, 5, 'https://carrefour.ro/produse/19-11000237', null),

(4, 1, 'https://www.auchan.ro/cereale-pentru-micul-dejun-nesquik-nestle-250g/p', null),
(4, 2, 'https://tazz.ro/cluj-napoca/search-partner/profi/24170/nesquik%20cereale%20250g', null),
(4, 3, 'https://tazz.ro/cluj-napoca/search-partner/kaufland-cluj/3866/nesquik%20cereale%20250g', null),
(4, 4, 'https://www.mega-image.ro/Paine-cafea-cereale-si-mic-dejun/Musli-fulgi-si-cereale/Cereale-cu-ciocolata/Cereale-cu-cacao-250g/p/72207', null),
(4, 5, 'https://carrefour.ro/produse/19-11015219?srsltid=AfmBOorvIUjpBa5iaO09-y_GpHxQQuxcfX88WJ1SLyOmMqgp8woVyg7y', null),

(5, 1, 'https://www.auchan.ro/ketchup-dulce-tomi-500-g/p', null),
(5, 2, 'https://tazz.ro/cluj-napoca/search-partner/profi/24170/tomi%20ketchup%20dulce', null),
(5, 3, 'https://tazz.ro/cluj-napoca/search-partner/kaufland-cluj/3866/tomi%20ketchup%20dulce', null),
(5, 4, 'https://www.mega-image.ro/Ingrediente-culinare/Sosuri-si-paste-de-tomate/Ketchup/Ketchup-dulce-500g/p/33443', null),
(5, 5, 'https://carrefour.ro/produse/19-11009271', null),

(6, 1, 'https://www.auchan.ro/iaurt-cu-cirese-muller-cremos-500-g/p', null),
(6, 2, 'https://tazz.ro/cluj-napoca/search-partner/profi/24170/muller%20iaurt%20cirese', null),
(6, 3, 'https://tazz.ro/cluj-napoca/search-partner/kaufland-cluj/3866/z%20muller%20pezzi%20iaurt%20cirese', null),
(6, 4, 'https://www.mega-image.ro/Lactate-si-oua/Iaurt-sana-si-smantana/Iaurt-cu-fructe/Iaurt-cu-bucati-de-cirese-500g/p/82912', null),
(6, 5, null, null),

(7, 1, 'https://www.auchan.ro/chips-chio-snack-cu-cascaval-65-g/p', null),
(7, 2, 'https://tazz.ro/cluj-napoca/search-partner/profi/24170/chio%20snack%20cascaval', null),
(7, 3, null, null),
(7, 4, 'https://www.mega-image.ro/Dulciuri-si-snacks/Chipsuri/Chipsuri-alte-arome/Snack-cu-gust-de-cascaval-65g/p/39569', null),
(7, 5, 'https://carrefour.ro/produse/snack-chio-cu-cascaval-65g-19-14517103', null),

(8, 1, 'https://www.auchan.ro/praline-chokotoff-238g/p', null),
(8, 2, 'https://tazz.ro/cluj-napoca/search-partner/profi/24170/poiana%20chokotoff', null),
(8, 3, 'https://glovoapp.com/ro/ro/bucuresti/kaufland-buc?content=ciocolata-c.255861186&search=chokotoff', null),
(8, 4, 'https://www.mega-image.ro/Dulciuri-si-snacks/Ciocolata/Praline-si-bomboane/Caramele-invelite-in-ciocolata-221g/p/39662', null),
(8, 5, 'https://carrefour.ro/produse/bomboane-de-ciocolata-cu-caramele-poiana-chokotoff-original-221g-19-14524671', null),

(9, 1, 'https://www.auchan.ro/rondele-de-paine-crocanta-cu-pizza-bake-rolls-7-days-80-g/p', null),
(9, 2, 'https://tazz.ro/cluj-napoca/search-partner/profi/24170/7%20days%20bake%20rolls%20pizza', null),
(9, 3, 'https://tazz.ro/bacau/search-partner/kaufland-bacau/7652/bake%20rolls%20pizza', null),
(9, 4, null, null),
(9, 5, 'https://carrefour.ro/produse/rondele-bake-rolls-7-days-cu-pizza-80-g-19-11006450?srsltid=AfmBOoqKT584D7RwuH9wAAuuxyA2wsYewMXLo8_WaQKuklnlBmeATqXO', null),

(10, 1, 'https://www.auchan.ro/prajitura-magura-cu-lapte-si-cacao-35g/p', null),
(10, 2, 'https://tazz.ro/cluj-napoca/search-partner/profi/24170/magura%20prajitura%20lapte', null),
(10, 3, 'https://tazz.ro/cluj-napoca/search-partner/kaufland-cluj/3866/magura%20prajitura%20lapte', null),
(10, 4, 'https://www.mega-image.ro/Dulciuri-si-snacks/Napolitane-biscuiti-si-prajituri/Prajituri-si-rulade/Prajitura-cu-crema-de-lapte-35g/p/28828', null),
(10, 5, 'https://carrefour.ro/produse/19-11005452?srsltid=AfmBOoo6C2jr-QFCEzB2fNoI87Zr4ys5QObrTxwBn-wlOPkZtprd5VLZ', null);

